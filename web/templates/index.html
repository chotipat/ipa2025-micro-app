<!DOCTYPE html>
<html>
<head>
  <title>Router Dashboard</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <h1>🛠️ Router List</h1>

  <form method="POST" action="/add">
    <input name="ip" placeholder="IP" required />
    <input name="username" placeholder="Username" required />
    <input name="password" placeholder="Password" required />
    <button type="submit">Add Router</button>
  </form>

  <ul>
    {% for router in routers %}
      <li>
        {{ router.ip }}
        <form method="POST" action="/delete/{{ router._id }}" style="display:inline;">
          <button type="submit">Delete</button>
        </form>
      </li>
    {% endfor %}
  </ul>

  <h2>📊 Interface Status (from api_service)</h2>
  {% if interfaces %}
  {% for router in interfaces %}
    <h3>🔌 Router IP: {{ router.router_ip }}</h3>
    <p>🕒 Last updated: {{ router.created_at }}</p>
    <table border="1" cellpadding="5" cellspacing="0">
      <tr>
        <th>Interface</th>
        <th>IP Address</th>
        <th>Status</th>
        <th>Protocol</th>
      </tr>
      {% for iface in router.interfaces %}
        <tr>
          <td>{{ iface.interface }}</td>
          <td>{{ iface.ip }}</td>
          <td>{{ iface.status }}</td>
          <td>{{ iface.protocol }}</td>
        </tr>
      {% endfor %}
    </table>
    <br>
  {% endfor %}
  {% else %}
    <p>No interface data available.</p>
  {% endif %}

</body>
</html>
